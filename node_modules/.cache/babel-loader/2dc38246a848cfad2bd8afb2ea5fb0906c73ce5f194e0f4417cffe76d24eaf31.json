{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, normalizeClass as _normalizeClass, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-d4582d0c\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"prices-page\"\n};\nconst _hoisted_2 = {\n  class: \"prices-header\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Product Prices\", -1 /* HOISTED */));\nconst _hoisted_4 = {\n  key: 0,\n  class: \"welcome-text\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"prices-content\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"loading\"\n};\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"Loading prices...\", -1 /* HOISTED */));\nconst _hoisted_8 = [_hoisted_7];\nconst _hoisted_9 = {\n  key: 1,\n  class: \"error\"\n};\nconst _hoisted_10 = {\n  key: 2,\n  class: \"cards-container\"\n};\nconst _hoisted_11 = {\n  class: \"card-header\"\n};\nconst _hoisted_12 = {\n  class: \"product-title\"\n};\nconst _hoisted_13 = [\"onClick\"];\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  width: \"16\",\n  height: \"16\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\",\n  stroke: \"currentColor\",\n  \"stroke-width\": \"2\",\n  \"stroke-linecap\": \"round\",\n  \"stroke-linejoin\": \"round\"\n}), /*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"m18.5 2.5 a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\",\n  stroke: \"currentColor\",\n  \"stroke-width\": \"2\",\n  \"stroke-linecap\": \"round\",\n  \"stroke-linejoin\": \"round\"\n})], -1 /* HOISTED */));\nconst _hoisted_15 = [_hoisted_14];\nconst _hoisted_16 = {\n  class: \"card-image-container\"\n};\nconst _hoisted_17 = [\"src\", \"alt\"];\nconst _hoisted_18 = {\n  key: 1,\n  class: \"card-no-image\"\n};\nconst _hoisted_19 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"No image\", -1 /* HOISTED */));\nconst _hoisted_20 = [_hoisted_19];\nconst _hoisted_21 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"spanoran\"\n}, \"Новая\", -1 /* HOISTED */));\nconst _hoisted_22 = {\n  class: \"price-table-container\"\n};\nconst _hoisted_23 = {\n  class: \"tabprice\"\n};\nconst _hoisted_24 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"Base Price 1\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Base Price 2\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Base Price 3\")])], -1 /* HOISTED */));\nconst _hoisted_25 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_26 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"spanred\"\n}, \"Старая\", -1 /* HOISTED */));\nconst _hoisted_27 = {\n  class: \"price-table-container\"\n};\nconst _hoisted_28 = {\n  class: \"tabprice\"\n};\nconst _hoisted_29 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"Option Price 1\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Option Price 2\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Option Price 3\")])], -1 /* HOISTED */));\nconst _hoisted_30 = {\n  class: \"product-description\"\n};\nconst _hoisted_31 = {\n  key: 3,\n  class: \"no-data\"\n};\nconst _hoisted_32 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"No prices available\", -1 /* HOISTED */));\nconst _hoisted_33 = [_hoisted_32];\nconst _hoisted_34 = {\n  key: 1,\n  class: \"login-prompt\"\n};\nconst _hoisted_35 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"Please log in to view prices.\", -1 /* HOISTED */));\nconst _hoisted_36 = [_hoisted_35];\nconst _hoisted_37 = {\n  class: \"modal-header\"\n};\nconst _hoisted_38 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h4\", null, \"Редактировать товар\", -1 /* HOISTED */));\nconst _hoisted_39 = {\n  class: \"modal-body\"\n};\nconst _hoisted_40 = {\n  class: \"form-group\"\n};\nconst _hoisted_41 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"productName\"\n}, \"Название:\", -1 /* HOISTED */));\nconst _hoisted_42 = {\n  class: \"form-group\"\n};\nconst _hoisted_43 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"productDescription\"\n}, \"Описание (100 символов):\", -1 /* HOISTED */));\nconst _hoisted_44 = {\n  class: \"char-counter\"\n};\nconst _hoisted_45 = {\n  class: \"form-group\"\n};\nconst _hoisted_46 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"productPrice\"\n}, \"Цена:\", -1 /* HOISTED */));\nconst _hoisted_47 = {\n  class: \"modal-footer\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _ctx.user ? (_openBlock(), _createElementBlock(\"p\", _hoisted_4, \"Welcome, \" + _toDisplayString(_ctx.user.name) + \"!\", 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _ctx.user ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createCommentVNode(\" Индикатор загрузки \"), $data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [..._hoisted_8])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Сообщение об ошибке \"), $data.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_createElementVNode(\"p\", null, \"Error loading prices: \" + _toDisplayString($data.error), 1 /* TEXT */), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.loadPrices && $options.loadPrices(...args)),\n    class: \"retry-btn\"\n  }, \"Retry\")])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Карточки товаров \"), !$data.loading && !$data.error && $data.prices.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.prices, item => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: item.product,\n      class: \"product-card\"\n    }, [_createCommentVNode(\" Заголовок с названием и кнопкой редактирования \"), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"h3\", _hoisted_12, _toDisplayString(item.product), 1 /* TEXT */), _createElementVNode(\"button\", {\n      onClick: $event => $options.openEditModal(item),\n      class: \"edit-btn\",\n      title: \"Редактировать\"\n    }, [..._hoisted_15], 8 /* PROPS */, _hoisted_13)]), _createCommentVNode(\" Изображение товара \"), _createElementVNode(\"div\", _hoisted_16, [item.image && item.image.trim() ? (_openBlock(), _createElementBlock(\"img\", {\n      key: 0,\n      src: item.image,\n      alt: item.product,\n      class: \"card-product-image\",\n      onError: _cache[1] || (_cache[1] = (...args) => $options.handleImageError && $options.handleImageError(...args))\n    }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_17)) : (_openBlock(), _createElementBlock(\"div\", _hoisted_18, [..._hoisted_20]))]), _createCommentVNode(\" Новая цена (Base Price) \"), _hoisted_21, _createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"table\", _hoisted_23, [_hoisted_24, _createElementVNode(\"tbody\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"td\", {\n      class: _normalizeClass({\n        'green-price': item.basePrice[0]\n      })\n    }, _toDisplayString($options.formatPriceRub(item.basePrice[0])), 3 /* TEXT, CLASS */), _createElementVNode(\"td\", null, _toDisplayString($options.formatPriceRub(item.basePrice[1])), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString($options.formatPriceRub(item.basePrice[2])), 1 /* TEXT */)])])])]), _hoisted_25, _createCommentVNode(\" Старая цена (Option Price) \"), _hoisted_26, _createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"table\", _hoisted_28, [_hoisted_29, _createElementVNode(\"tbody\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"td\", {\n      class: _normalizeClass({\n        'green-price': item.optionPrice[0]\n      })\n    }, _toDisplayString($options.formatPriceRub(item.optionPrice[0])), 3 /* TEXT, CLASS */), _createElementVNode(\"td\", null, _toDisplayString($options.formatPriceRub(item.optionPrice[1])), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString($options.formatPriceRub(item.optionPrice[2])), 1 /* TEXT */)])])])]), _createCommentVNode(\" Описание \"), _createElementVNode(\"div\", _hoisted_30, _toDisplayString(item.description), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Сообщение, если нет данных \"), !$data.loading && !$data.error && $data.prices.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_31, [..._hoisted_33])) : _createCommentVNode(\"v-if\", true)])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_34, [..._hoisted_36])), _createCommentVNode(\" Модальное окно редактирования \"), $data.showEditModal ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 2,\n    class: \"modal-overlay\",\n    onClick: _cache[9] || (_cache[9] = (...args) => $options.closeEditModal && $options.closeEditModal(...args))\n  }, [_createElementVNode(\"div\", {\n    class: \"modal-content\",\n    onClick: _cache[8] || (_cache[8] = _withModifiers(() => {}, [\"stop\"]))\n  }, [_createElementVNode(\"div\", _hoisted_37, [_hoisted_38, _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.closeEditModal && $options.closeEditModal(...args)),\n    class: \"close-btn\"\n  }, \"×\")]), _createElementVNode(\"div\", _hoisted_39, [_createElementVNode(\"div\", _hoisted_40, [_hoisted_41, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"productName\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.editForm.name = $event),\n    class: \"form-input\",\n    placeholder: \"Введите название товара\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.editForm.name]])]), _createElementVNode(\"div\", _hoisted_42, [_hoisted_43, _withDirectives(_createElementVNode(\"textarea\", {\n    id: \"productDescription\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.editForm.description = $event),\n    class: \"form-textarea\",\n    maxlength: \"100\",\n    placeholder: \"Введите описание товара\",\n    rows: \"3\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.editForm.description]]), _createElementVNode(\"small\", _hoisted_44, _toDisplayString($data.editForm.description.length) + \"/100\", 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_45, [_hoisted_46, _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    id: \"productPrice\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.editForm.price = $event),\n    class: \"form-input\",\n    placeholder: \"Введите цену\",\n    min: \"0\",\n    step: \"0.01\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.editForm.price]])])]), _createElementVNode(\"div\", _hoisted_47, [_createElementVNode(\"button\", {\n    onClick: _cache[6] || (_cache[6] = (...args) => $options.closeEditModal && $options.closeEditModal(...args)),\n    class: \"btn-cancel\"\n  }, \"Отмена\"), _createElementVNode(\"button\", {\n    onClick: _cache[7] || (_cache[7] = (...args) => $options.saveProduct && $options.saveProduct(...args)),\n    class: \"btn-save\"\n  }, \"Сохранить\")])])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementVNode","key","_hoisted_7","width","height","viewBox","fill","xmlns","d","stroke","_hoisted_14","_hoisted_19","_hoisted_32","_hoisted_35","for","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_ctx","user","_hoisted_4","_toDisplayString","name","_createCommentVNode","_hoisted_5","$data","loading","_hoisted_6","_hoisted_8","error","_hoisted_9","onClick","_cache","args","$options","loadPrices","prices","length","_hoisted_10","_Fragment","_renderList","item","product","_hoisted_11","_hoisted_12","$event","openEditModal","title","_hoisted_15","_hoisted_13","_hoisted_16","image","trim","src","alt","onError","handleImageError","_hoisted_17","_hoisted_18","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_normalizeClass","basePrice","formatPriceRub","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","optionPrice","_hoisted_30","description","_hoisted_31","_hoisted_33","_hoisted_34","_hoisted_36","showEditModal","closeEditModal","_withModifiers","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","type","id","editForm","placeholder","_hoisted_42","_hoisted_43","maxlength","rows","_hoisted_44","_hoisted_45","_hoisted_46","price","min","step","_hoisted_47","saveProduct"],"sources":["/Users/vitalij/CursorProject/frontStudy/src/components/Prices.vue"],"sourcesContent":["<template>\n    <div class=\"prices-page\">\n        <div class=\"prices-header\">\n            <h2>Product Prices</h2>\n            <p v-if=\"user\" class=\"welcome-text\">Welcome, {{user.name}}!</p>\n        </div>\n\n        <div v-if=\"user\" class=\"prices-content\">\n            <!-- Индикатор загрузки -->\n            <div v-if=\"loading\" class=\"loading\">\n                <p>Loading prices...</p>\n            </div>\n\n            <!-- Сообщение об ошибке -->\n            <div v-if=\"error\" class=\"error\">\n                <p>Error loading prices: {{error}}</p>\n                <button @click=\"loadPrices\" class=\"retry-btn\">Retry</button>\n            </div>\n\n                        <!-- Карточки товаров -->\n            <div v-if=\"!loading && !error && prices.length > 0\" class=\"cards-container\">\n                <div v-for=\"item in prices\" :key=\"item.product\" class=\"product-card\">\n                    <!-- Заголовок с названием и кнопкой редактирования -->\n                    <div class=\"card-header\">\n                        <h3 class=\"product-title\">{{item.product}}</h3>\n                        <button @click=\"openEditModal(item)\" class=\"edit-btn\" title=\"Редактировать\">\n                            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                                <path d=\"m18.5 2.5 a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                            </svg>\n                        </button>\n                    </div>\n\n                    <!-- Изображение товара -->\n                    <div class=\"card-image-container\">\n                        <img\n                            v-if=\"item.image && item.image.trim()\"\n                            :src=\"item.image\"\n                            :alt=\"item.product\"\n                            class=\"card-product-image\"\n                            @error=\"handleImageError\"\n                        />\n                        <div v-else class=\"card-no-image\">\n                            <span>No image</span>\n                        </div>\n                    </div>\n\n                    <!-- Новая цена (Base Price) -->\n                    <span class=\"spanoran\">Новая</span>\n                    <div class=\"price-table-container\">\n                        <table class=\"tabprice\">\n                            <thead>\n                                <tr>\n                                    <th>Base Price 1</th>\n                                    <th>Base Price 2</th>\n                                    <th>Base Price 3</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <tr>\n                                    <td :class=\"{'green-price': item.basePrice[0]}\">{{formatPriceRub(item.basePrice[0])}}</td>\n                                    <td>{{formatPriceRub(item.basePrice[1])}}</td>\n                                    <td>{{formatPriceRub(item.basePrice[2])}}</td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n\n                    <br>\n\n                    <!-- Старая цена (Option Price) -->\n                    <span class=\"spanred\">Старая</span>\n                    <div class=\"price-table-container\">\n                        <table class=\"tabprice\">\n                            <thead>\n                                <tr>\n                                    <th>Option Price 1</th>\n                                    <th>Option Price 2</th>\n                                    <th>Option Price 3</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <tr>\n                                    <td :class=\"{'green-price': item.optionPrice[0]}\">{{formatPriceRub(item.optionPrice[0])}}</td>\n                                    <td>{{formatPriceRub(item.optionPrice[1])}}</td>\n                                    <td>{{formatPriceRub(item.optionPrice[2])}}</td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n\n                                        <!-- Описание -->\n                    <div class=\"product-description\">{{item.description}}</div>\n                </div>\n            </div>\n\n                        <!-- Сообщение, если нет данных -->\n            <div v-if=\"!loading && !error && prices.length === 0\" class=\"no-data\">\n                <p>No prices available</p>\n            </div>\n        </div>\n\n        <div v-else class=\"login-prompt\">\n            <p>Please log in to view prices.</p>\n        </div>\n\n        <!-- Модальное окно редактирования -->\n        <div v-if=\"showEditModal\" class=\"modal-overlay\" @click=\"closeEditModal\">\n            <div class=\"modal-content\" @click.stop>\n                <div class=\"modal-header\">\n                    <h4>Редактировать товар</h4>\n                    <button @click=\"closeEditModal\" class=\"close-btn\">&times;</button>\n                </div>\n                <div class=\"modal-body\">\n                    <div class=\"form-group\">\n                        <label for=\"productName\">Название:</label>\n                        <input\n                            type=\"text\"\n                            id=\"productName\"\n                            v-model=\"editForm.name\"\n                            class=\"form-input\"\n                            placeholder=\"Введите название товара\"\n                        />\n                    </div>\n\n                    <div class=\"form-group\">\n                        <label for=\"productDescription\">Описание (100 символов):</label>\n                        <textarea\n                            id=\"productDescription\"\n                            v-model=\"editForm.description\"\n                            class=\"form-textarea\"\n                            maxlength=\"100\"\n                            placeholder=\"Введите описание товара\"\n                            rows=\"3\"\n                        ></textarea>\n                        <small class=\"char-counter\">{{editForm.description.length}}/100</small>\n                    </div>\n\n                    <div class=\"form-group\">\n                        <label for=\"productPrice\">Цена:</label>\n                        <input\n                            type=\"number\"\n                            id=\"productPrice\"\n                            v-model=\"editForm.price\"\n                            class=\"form-input\"\n                            placeholder=\"Введите цену\"\n                            min=\"0\"\n                            step=\"0.01\"\n                        />\n                    </div>\n                </div>\n                <div class=\"modal-footer\">\n                    <button @click=\"closeEditModal\" class=\"btn-cancel\">Отмена</button>\n                    <button @click=\"saveProduct\" class=\"btn-save\">Сохранить</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import {mapGetters} from \"vuex\";\n    import axios from \"axios\";\n\n    export default {\n        name: 'PricesItem',\n        data() {\n            return {\n                prices: [],\n                loading: false,\n                error: null,\n                showEditModal: false,\n                editForm: {\n                    name: '',\n                    description: '',\n                    price: 0\n                },\n                currentEditItem: null\n            }\n        },\n        computed: {\n            ...mapGetters(['user'])\n        },\n        methods: {\n                                                async loadPrices() {\n                this.loading = true;\n                this.error = null;\n\n                try {\n                    console.log('Загружаем данные с backend...');\n                    // Axios interceptor автоматически обрабатывает ответ\n                    const data = await axios.get('shopA/product');\n                    console.log('Backend ответил:', data);\n                    // Interceptor уже проверил code и вернул data.data\n                    this.prices = data.data || [];\n                    console.log('Данные загружены успешно:', this.prices);\n                } catch (error) {\n                    console.error('Error loading prices:', error);\n                    this.error = error || 'Failed to load prices';\n                } finally {\n                    this.loading = false;\n                }\n            },\n            formatPrice(price) {\n                if (price === null || price === undefined) {\n                    return '-';\n                }\n                return `$${price}`;\n            },\n            formatPriceRub(price) {\n                if (price === null || price === undefined) {\n                    return '-';\n                }\n                return `${price} р.`;\n            },\n            handleImageError(event) {\n                console.warn('Failed to load image:', event.target.src);\n                // Заменяем сломанное изображение на placeholder\n                event.target.style.display = 'none';\n                event.target.nextElementSibling.style.display = 'flex';\n            },\n            openEditModal(item) {\n                this.currentEditItem = item;\n                this.editForm.name = item.product;\n                this.editForm.description = item.description;\n                this.editForm.price = item.basePrice[0] || 0; // Берем первую базовую цену\n                this.showEditModal = true;\n            },\n            closeEditModal() {\n                this.showEditModal = false;\n                this.currentEditItem = null;\n                this.editForm = {\n                    name: '',\n                    description: '',\n                    price: 0\n                };\n            },\n            saveProduct() {\n                // TODO: Обработка сохранения будет добавлена позже\n                console.log('Сохранение товара:', this.editForm);\n                this.closeEditModal();\n            }\n        },\n        async mounted() {\n            if (this.user) {\n                await this.loadPrices();\n            }\n        },\n        watch: {\n            user(newUser) {\n                if (newUser) {\n                    this.loadPrices();\n                }\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .prices-page {\n        min-height: calc(100vh - 80px); /* Вычитаем высоту навигации */\n        padding: 20px;\n    }\n\n    .prices-header {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        margin-bottom: 30px;\n        text-align: center;\n    }\n\n    .prices-header h2 {\n        margin: 0 0 10px 0;\n        color: #333;\n        font-size: 28px;\n    }\n\n    .welcome-text {\n        margin: 0;\n        color: #666;\n        font-size: 16px;\n    }\n\n    .prices-content {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n    }\n\n    .loading {\n        text-align: center;\n        padding: 40px;\n        color: #666;\n        font-size: 18px;\n    }\n\n    .error {\n        background-color: #ffe6e6;\n        border: 1px solid #ffcccc;\n        color: #cc0000;\n        padding: 20px;\n        border-radius: 8px;\n        margin: 20px 0;\n        text-align: center;\n    }\n\n    .retry-btn {\n        background-color: #167bff;\n        color: white;\n        border: none;\n        padding: 10px 20px;\n        border-radius: 5px;\n        cursor: pointer;\n        margin-top: 15px;\n        font-size: 14px;\n    }\n\n    .retry-btn:hover {\n        background-color: #0056b3;\n    }\n\n    .no-data {\n        text-align: center;\n        padding: 40px;\n        color: #666;\n        font-style: italic;\n        font-size: 18px;\n    }\n\n    .login-prompt {\n        background-color: white;\n        padding: 40px;\n        border-radius: 10px;\n        box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        text-align: center;\n        font-size: 18px;\n        color: #666;\n    }\n\n    .cards-container {\n        display: grid;\n        grid-template-columns: repeat(4, 1fr);\n        gap: 20px;\n        margin-top: 20px;\n        max-width: 1200px; /* Ограничиваем максимальную ширину для 4 карточек */\n        margin-left: auto;\n        margin-right: auto;\n    }\n\n    .product-card {\n        background: white;\n        border-radius: 10px;\n        padding: 20px;\n        box-shadow: 0 4px 8px rgba(0,0,0,0.1);\n        text-align: center;\n        transition: transform 0.2s ease, box-shadow 0.2s ease;\n        border: 1px solid #e9ecef;\n    }\n\n    .product-card:hover {\n        transform: translateY(-2px);\n        box-shadow: 0 6px 16px rgba(0,0,0,0.15);\n    }\n\n    .card-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: flex-start;\n        margin-bottom: 15px;\n    }\n\n    .product-title {\n        margin: 0;\n        color: #333;\n        font-size: 18px;\n        font-weight: 600;\n        flex: 1;\n    }\n\n    .edit-btn {\n        background: none;\n        border: none;\n        color: #666;\n        cursor: pointer;\n        padding: 4px;\n        border-radius: 4px;\n        transition: all 0.2s ease;\n        margin-left: 8px;\n        flex-shrink: 0;\n    }\n\n    .edit-btn:hover {\n        background-color: #f0f0f0;\n        color: #167bff;\n        transform: scale(1.1);\n    }\n\n    .card-image-container {\n        margin-bottom: 15px;\n        height: 110px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n\n    .card-product-image {\n        max-width: 100%;\n        max-height: 110px;\n        object-fit: contain;\n        border-radius: 6px;\n    }\n\n    .card-no-image {\n        width: 100%;\n        height: 110px;\n        background-color: #f8f9fa;\n        border: 2px dashed #dee2e6;\n        border-radius: 6px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 12px;\n        color: #6c757d;\n    }\n\n    .spanoran {\n        background-color: #ffa000;\n        color: white;\n        padding: 4px 8px;\n        border-radius: 4px;\n        font-size: 12px;\n        font-weight: 600;\n        display: inline-block;\n        margin-bottom: 10px;\n    }\n\n    .spanred {\n        background-color: #d32f2f;\n        color: white;\n        padding: 4px 8px;\n        border-radius: 4px;\n        font-size: 12px;\n        font-weight: 600;\n        display: inline-block;\n        margin-bottom: 10px;\n    }\n\n    .price-table-container {\n        margin-bottom: 15px;\n    }\n\n    .tabprice {\n        width: 100%;\n        border-collapse: collapse;\n        border: 2px solid white;\n        font-size: 11px;\n        margin: 5px 0;\n        padding: 0px;\n    }\n\n    .tabprice th {\n        padding: 3px;\n        border: 1px solid maroon;\n        text-align: center;\n        font-weight: bold;\n        font-size: 10px;\n        color: #333;\n        background-color: #f5f5f5;\n        display: table-cell;\n        vertical-align: inherit;\n    }\n\n    .tabprice td {\n        padding: 3px;\n        border: 1px solid maroon;\n        text-align: center;\n        font-size: 11px;\n    }\n\n    .green-price {\n        color: green !important;\n        font-weight: 600;\n    }\n\n    .product-description {\n        color: #ffa000;\n        font-size: 12px;\n        margin: 10px 0;\n        min-height: 20px;\n    }\n\n\n\n    /* Адаптивность для планшетов */\n    @media (max-width: 1024px) {\n        .prices-page {\n            padding: 15px;\n        }\n\n        .prices-header {\n            padding: 20px;\n        }\n\n        .prices-content {\n            padding: 20px;\n        }\n\n        .cards-container {\n            grid-template-columns: repeat(2, 1fr);\n        }\n    }\n\n    /* Адаптивность для мобильных устройств */\n    @media (max-width: 768px) {\n        .prices-page {\n            padding: 10px;\n        }\n\n        .prices-header {\n            padding: 15px;\n        }\n\n        .prices-header h2 {\n            font-size: 24px;\n        }\n\n        .prices-content {\n            padding: 15px;\n        }\n\n        .cards-container {\n            grid-template-columns: repeat(2, 1fr);\n            gap: 15px;\n        }\n\n        .product-card {\n            padding: 15px;\n        }\n\n        .product-title {\n            font-size: 16px;\n        }\n\n        .card-image-container {\n            height: 90px;\n        }\n\n        .card-product-image {\n            max-height: 90px;\n        }\n\n        .card-no-image {\n            height: 90px;\n        }\n\n        .tabprice {\n            font-size: 10px;\n        }\n\n        .tabprice th,\n        .tabprice td {\n            padding: 2px;\n            font-size: 9px;\n            border: 1px solid maroon;\n        }\n    }\n\n    /* Для очень маленьких экранов - по 1 карточке */\n    @media (max-width: 480px) {\n        .cards-container {\n            grid-template-columns: 1fr;\n        }\n    }\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}